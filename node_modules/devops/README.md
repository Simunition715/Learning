# Devops

This project contains all of the convenience commands we can muster to make
projects a blissful easy experience to develop and deploy for ANY customer
environment.

`target` project refers to the project this project get's installed as a
dependency into.

The `bin/` folder contains all of the commands which are tied in with the
`main.ts` commander (npm package) configuration entry point.

The `config/` folder contains configuration files to be copied to the `target`
project.

## Using this library in your own project

You can install this project like any repository using npm:

```sh
npm i -DE vega-studio/node-devops
```

Then after install run:

```sh
npx devops init
```

## Visit Repo PR page

Takes you to this projects PR's in it's remote repo. This is where features and
changes for a branch should be requested to be merged in. PR's should be made
exclusively to the `dev` branch unless you are making a release.

```sh
npm run pr
```

## Developing for this project

Same as viewing the project. Simply run:

```sh
npm i
```

Then you can work on developing commands in the bin folder.

## Building a new distribution of the project

After changes are completed and ready for a new distribution. Simply run:

```sh
npm run release
```

The new files will be generated and will generate a release branch. If the
branch is created SUCCESSFULLY (ensure no errors occurred in the process), the
process should push the branch and the newly created tag to the repo for you.

Thus you should now be able to create a PR from `release` to `master` and `dev`.

Some shortcut commands were created to help this process, you can either go to
the PR page and generate the PRs:

```sh
npm run pr
```

Or you can try using the auto PR set up to open up both PR creation request
pages automatically:

```sh
npm run pr-release
```

These are just convenience methods created and should not be an excuse to NOT
understand what is happening. Only an administrator of the project who
understands the implications should be running through the release procedure.

This script WILL NOT WORK correctly unless there are commits with the following
message formats:

feature: message
fixed: message
breaking: message
task: message
