import { action, makeObservable, observable } from "mobx";
import { IBreadcrumb, IBreadcrumbs, IconShape } from "../../../components";
import { action as printAction } from "@storybook/addon-actions";

class Store implements IBreadcrumbs {
  @observable crumbs: IBreadcrumb[] = [
    {
      label: "Home Page",
      isBackLink: true,
      onClick: () => {
        printAction("Home Page link clicked")();
      },
    },
    { label: "Another Link" },
    { label: "Last One" },
  ];

  constructor() {
    makeObservable(this);
  }

  @action
  empty() {
    this.crumbs = [];
    return this;
  }

  @action
  one() {
    this.crumbs = [{ label: "Bread Crumb", disable: true }];
    return this;
  }

  @action
  custom(crumbs: IBreadcrumb[]) {
    this.crumbs = crumbs;
    return this;
  }

  @action
  withIcons() {
    this.crumbs = [
      {
        label: "Return Home",
        isBackLink: true,
      },
      { label: "Campaign, 2022", icon: { shape: IconShape.SPEED } },
      { label: "Level Two", icon: { shape: IconShape.ACCOUNT_TREE } },
    ];
    return this;
  }
}

export const BreadcrumbsProps = () => new Store();
