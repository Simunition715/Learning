import fuzzy from "fuzzy";

export const fuzzySource =
  (options: Set<string> | string[]) => async (_: unknown, input: string) => {
    let opts: string[] = [];

    if (options instanceof Set) {
      opts = Array.from(options);
    } else {
      opts = options;
    }

    return fuzzy.filter(input || "", opts).map((e) => e.string);
  };
