import child_process from "child_process";

function isDefined<T>(val: any): val is T {
  return val !== void 0 && val !== null;
}

/**
 * Type guard for errors thrown from the child_process.execFileSync method.
 */
export function isChildProcessError(
  val: any
): val is child_process.SpawnSyncReturns<Buffer> {
  return (
    isDefined<any>(val) &&
    isDefined<any>(val.status) &&
    isDefined<any>(val.stderr)
  );
}
