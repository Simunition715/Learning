import inquirer from "inquirer";
import { stripIndent } from "common-tags";

/**
 * Convenience wrapper around current prompt library of choice to present a
 * confirmation dialog.
 *
 * Applies stripIndent to the input message.
 *
 * Returns the true false value of the prompt.
 */
export async function promptConfirm(
  message: string,
  defaultValue?: boolean
): Promise<boolean> {
  const { result } = await inquirer.prompt<{
    result: boolean;
  }>([
    {
      type: "confirm",
      name: "result",
      message: stripIndent`${message}`,
      default: defaultValue,
    },
  ]);

  return result;
}
