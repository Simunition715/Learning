import fs from "fs";
import path from "path";
import rmrf from "rimraf";

/**
 * This script cleans out storybook caching that causes updates to be hidden
 * when editing storybook configuration.
 */
export default async function run() {
  const cache = path.resolve("./node_modules/.cache/");
  const build = path.resolve("./build");

  if (fs.existsSync(cache)) {
    rmrf.sync(cache);
    console.warn("Cache: Clean complete");
  } else {
    console.warn("Cache: Already clean");
  }

  if (fs.existsSync(build)) {
    rmrf.sync(build);
    console.warn("Build: Clean complete");
  } else {
    console.warn("Build: Already clean");
  }
}
